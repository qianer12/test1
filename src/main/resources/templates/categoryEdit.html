<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>编辑</title>
    <script src="http://how2j.cn/study/vue.min.js"></script>
    <script src="http://how2j.cn/study/jquery.min.js"></script>
    <script>
        function update() {
            var categoryId = $("#id").val();
            var page = "/category/update/"+categoryId;
            $.ajax({
                url:page,
                type:"post", // 使用的post方法，对应后台中的修改方法
                datatype:"json",
                data:$("#updateForm").serialize(),
                success:function () {
                    window.location.href='/listCategory.html';
                }
            })
        }
    </script>
</head>
<body>
<!--<form id="updateForm" th:action="'/category/update/'+${category.id}" th:object="${category}" method="post">
    <input type="hidden" id="id" name="id" th:value="${category.id}">
    name:<input id="name" name="name" th:value="${category.name}"> <br>
    <input type="submit" value="保存">
</form>-->

<form id="updateForm" action="" method="post">
    <input type="hidden" id="id" name="id" th:value="${category.id}">
    name:<input id="name" name="name" th:value="${category.name}"> <br>
</form>
<div class="toolbar" style="padding: 20px;">
    <button class="btn btn-primary" id="updateCategory" onclick="update()">保存</button>
    <button class="btn btn-default" onclick="window.history.back(-1);">取消</button>
</div>
</body>
</html>